User 用户

```json
// 前端
// 登录
type = "login"
set = "学生端(student)/教室端(class)/管理员端(administrator)"
account = "学号或工号"
passwd = "密码"

// 注册
type = "register"
set = "学生端(student)/教室端(class)/管理员端(administrator)"
account = "学号或工号"
passwd = "密码"
name = "姓名（可选）"
phone = "手机号（可选）"
major = "专业（可选）"
college = "学院（可选）"
sex = "性别（可选）"

// 刷新token
type = "refreshToken"



// 后端
// 登录和注册均以状态码形式返回

// token
type = "refreshToken"
token = "token"
```



QRcode	二维码

```json
// 前端
// 获取二维码
type = "qrcode"
cid = "教室id"

// 学生端扫描二维码，前端只需提供token
token = "token"

// 教室端更新签到数据
uid = "二维码唯一id"

// 教务端查询签到信息
type = "qrcode"
// 以下条件 任选 ，不选则为空
uid = "二维码唯一id"
courseName = "课程名称"
cid = "教室id"
date = "日期yyyy-MM-dd"
courseId = "课程号"
teacher = "教师姓名"



// 后端
// 响应前端的获取二维码请求
type = "qrcode"
uid = "二维码唯一id"
cid = "教室id"
courseId = "课程号"
code = "base64格式的二维码"
time = "创建时间"
sid = ["该课程需要签到的学生"]

// 学生端扫描二维码，后端返回状态码

// 教室端更新签到数据
students = [{
    sid = "学生id"
    token = "token"
    // 还有其他信息，与注册信息一致         
}]

// 教务端查询签到信息
result = [{
    courseName = "课程名"
    courseId = "课程号"
    date = "签到时间"
    teacher = "教师姓名"
    students = [{
    	sid = "学生id"
    	token = "token"
    	// 还有其他信息，与注册信息一致   
	}]
}]
```



DistMsg	消息分发

```json
// 前端
null

// 后端
// 教务端发布的消息
type = "msg"
title = "标题"
time = "发布时间"
content = "消息内容"
attachment{
    name = "附件名称"
    url = "附件链接"
}
```



CallStu	点名回答

```json
// 前端
// 点名
type = "call"
set = "随机点名(random)或直接点名(select)"
cid = "教室id"
sid = "学生id，没有则为空"

// 后端
// 随机点名结果
type = "call"
sid = "学生id"
```



ChatBox	聊天窗

```json
// 前端
// 发送消息
type = "chat"
sid = "学生id"
name = "姓名"
time = "时间"
content = "内容"

// 后端
// 向前端同步消息
type = "chat"
sid = "学生id"
name = "姓名"
time = "时间"
content = "内容"
```



CourseSchedule	课表

```json
// 前端
// 修改课表
type = "schedule"
set{
    id = "课程号"
    name = "课程名称"
    teacher = "任课教师"
    site = "课程地点"
    period = "课程时间(星期-起始小节-结束小节)"
}

// 获取课表
type = "schedule_get"
sid = "学生id"


// 后端
// 响应获取课表请求
type = "schedule"	
course{
    id = "课程号"
    name = "课程名称"
    teacher = "任课教师"
    site = "课程地点"
    period = "课程时间(星期-起始小节-结束小节)"
}
```